# Includes chrome and selenium
FROM selenium/standalone-chrome

# Prepare
RUN \
  sudo apt-get update && \
  sudo apt-get install -y apt-utils && \
  sudo apt-get install -y software-properties-common && \
  sudo apt-get install -y curl && \
  sudo apt-get install -y unzip && \
  sudo apt-get -y upgrade

# Google appengine java sdk
RUN \
  sudo mkdir -p /opt/google-clod-sdk && \
  sudo curl -o /tmp/google-clod-sdk.zip https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-sdk-183.0.0-linux-x86_64.tar.gz && \
  sudo unzip /tmp/google-clod-sdk.zip -d /opt/google-clod-sdk && \
  sudo rm -f /tmp/google-clod-sdk.zip

# Install npm
RUN \
  curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash - && \
  sudo apt-get install -y nodejs